# ğŸ¨ AI å›¾åƒç”Ÿæˆ API é…ç½®æŒ‡å—

æœ¬é¡¹ç›®æ”¯æŒå¤šç§ AI å›¾åƒç”ŸæˆæœåŠ¡ã€‚ä½ å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æœåŠ¡æä¾›å•†ã€‚

## ğŸ“‹ ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ”¯æŒçš„æœåŠ¡æä¾›å•†](#æ”¯æŒçš„æœåŠ¡æä¾›å•†)
- [è¯¦ç»†é…ç½®](#è¯¦ç»†é…ç½®)
  - [1. Mock (æµ‹è¯•æ¨¡å¼)](#1-mock-æµ‹è¯•æ¨¡å¼)
  - [2. Google AI](#2-google-ai)
  - [3. Stability AI](#3-stability-ai-æ¨è)
  - [4. Replicate](#4-replicate)
- [å¦‚ä½•åˆ‡æ¢æä¾›å•†](#å¦‚ä½•åˆ‡æ¢æä¾›å•†)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

**é»˜è®¤é…ç½® (æ— éœ€ API Key)**ï¼š

é¡¹ç›®é»˜è®¤ä½¿ç”¨ **Mock æ¨¡å¼**ï¼Œæ— éœ€ä»»ä½• API key å³å¯æµ‹è¯•å®Œæ•´åŠŸèƒ½ã€‚Mock æ¨¡å¼ä¼šï¼š
- æ¨¡æ‹Ÿ 5-10 ç§’çš„ç”Ÿæˆå»¶è¿Ÿ
- è¿”å›éšæœºæµ‹è¯•å›¾ç‰‡ï¼ˆæ¥è‡ª picsum.photosï¼‰
- é€‚åˆå¼€å‘å’Œæ¼”ç¤º

**é…ç½®æ–‡ä»¶**ï¼š`backend/.env`

```bash
IMAGE_PROVIDER=mock  # é»˜è®¤å€¼ï¼Œæ— éœ€ API key
```

---

## ğŸ¯ æ”¯æŒçš„æœåŠ¡æä¾›å•†

| æä¾›å•† | æˆæœ¬ | è´¨é‡ | é€Ÿåº¦ | æ¨èåº¦ | è¯´æ˜ |
|--------|------|------|------|--------|------|
| **Mock** | å…è´¹ | N/A | å¿« | â­â­â­â­â­ | å¼€å‘æµ‹è¯•ç”¨ |
| **Stability AI** | ä½ | é«˜ | å¿« | â­â­â­â­â­ | æ¨èç”Ÿäº§ä½¿ç”¨ |
| **Replicate** | ä¸­ | é«˜ | ä¸­ | â­â­â­â­ | æ”¯æŒå¤šç§æ¨¡å‹ |
| **Google AI** | é«˜ | é«˜ | æ…¢ | â­â­â­ | éœ€è¦ Vertex AI |

---

## ğŸ“ è¯¦ç»†é…ç½®

### 1. Mock (æµ‹è¯•æ¨¡å¼)

**æ— éœ€é…ç½®**ï¼Œé»˜è®¤å³å¯ä½¿ç”¨ã€‚

```bash
# backend/.env
IMAGE_PROVIDER=mock
```

**ç‰¹ç‚¹**ï¼š
- âœ… å…è´¹
- âœ… æ— éœ€ API key
- âœ… å¿«é€Ÿå¯åŠ¨
- âŒ è¿”å›éšæœºå›¾ç‰‡ï¼ˆéçœŸå® AI ç”Ÿæˆï¼‰

---

### 2. Google AI

**è·å– API Key**ï¼š

#### æ–¹å¼ 1: Google AI Studio (æ¨èç”¨äºå¼€å‘)

1. è®¿é—® [Google AI Studio](https://makersuite.google.com/app/apikey)
2. ä½¿ç”¨ Google è´¦å·ç™»å½•
3. ç‚¹å‡» **"Get API Key"** æˆ– **"Create API Key"**
4. é€‰æ‹©æˆ–åˆ›å»ºä¸€ä¸ª Google Cloud é¡¹ç›®
5. å¤åˆ¶ç”Ÿæˆçš„ API key

#### æ–¹å¼ 2: Google Cloud Platform (ç”¨äºç”Ÿäº§)

1. è®¿é—® [Google Cloud Console](https://console.cloud.google.com/)
2. åˆ›å»ºæˆ–é€‰æ‹©é¡¹ç›®
3. å¯ç”¨ **Vertex AI API**
4. å‰å¾€ **APIs & Services** â†’ **Credentials**
5. åˆ›å»º API key

**é…ç½®**ï¼š

```bash
# backend/.env
IMAGE_PROVIDER=google_ai
GOOGLE_AI_API_KEY=your-google-ai-api-key-here
```

**æ³¨æ„äº‹é¡¹**ï¼š
- Google AI çš„å›¾åƒç”Ÿæˆä¸»è¦é€šè¿‡ Vertex AI çš„ Imagen æ¨¡å‹
- å¯èƒ½éœ€è¦é¢å¤–é…ç½® GCP é¡¹ç›®å’ŒæœåŠ¡è´¦å·
- è´¹ç”¨æŒ‰ä½¿ç”¨é‡è®¡è´¹

---

### 3. Stability AI (æ¨è)

**è·å– API Key**ï¼š

1. è®¿é—® [Stability AI Platform](https://platform.stability.ai/)
2. æ³¨å†Œè´¦å·
3. å‰å¾€ [Account â†’ API Keys](https://platform.stability.ai/account/keys)
4. ç‚¹å‡» **"Create API Key"**
5. å¤åˆ¶ API key

**é…ç½®**ï¼š

```bash
# backend/.env
IMAGE_PROVIDER=stability_ai
STABILITY_AI_API_KEY=sk-your-stability-ai-api-key-here
```

**æ¨èç†ç”±**ï¼š
- âœ… **æ€§ä»·æ¯”é«˜**ï¼šæŒ‰ä½¿ç”¨é‡è®¡è´¹ï¼Œä»·æ ¼åˆç†
- âœ… **è´¨é‡ä¼˜ç§€**ï¼šåŸºäº Stable Diffusion XL
- âœ… **é€Ÿåº¦å¿«**ï¼šé€šå¸¸ 10-20 ç§’ç”Ÿæˆ
- âœ… **API ç®€å•**ï¼šæ–‡æ¡£å®Œå–„ï¼Œæ˜“äºé›†æˆ
- âœ… **img2img æ”¯æŒ**ï¼šå®Œç¾é€‚é…æœ¬é¡¹ç›®éœ€æ±‚

**å®šä»·**ï¼ˆå‚è€ƒï¼‰ï¼š
- éä¼šå‘˜ï¼š$0.002-0.008 / å›¾ç‰‡
- ä¼šå‘˜ï¼šæ›´ä¼˜æƒ çš„ä»·æ ¼
- æ–°ç”¨æˆ·é€šå¸¸æœ‰å…è´¹é¢åº¦

**æ–‡æ¡£**ï¼šhttps://platform.stability.ai/docs/api-reference

---

### 4. Replicate

**è·å– API Key**ï¼š

1. è®¿é—® [Replicate](https://replicate.com/)
2. æ³¨å†Œè´¦å·
3. å‰å¾€ [Account â†’ API Tokens](https://replicate.com/account/api-tokens)
4. å¤åˆ¶ç°æœ‰ token æˆ–åˆ›å»ºæ–° token

**é…ç½®**ï¼š

```bash
# backend/.env
IMAGE_PROVIDER=replicate
REPLICATE_API_KEY=r8_your-replicate-api-key-here
```

**ç‰¹ç‚¹**ï¼š
- âœ… **æ¨¡å‹ä¸°å¯Œ**ï¼šæ”¯æŒå¤šç§å¼€æº AI æ¨¡å‹
- âœ… **çµæ´»æ€§é«˜**ï¼šå¯ä»¥åˆ‡æ¢ä¸åŒæ¨¡å‹
- âœ… **æŒ‰éœ€ä»˜è´¹**ï¼šåªä¸ºå®é™…ä½¿ç”¨ä»˜è´¹
- âš ï¸ **é€Ÿåº¦è¾ƒæ…¢**ï¼šç”Ÿæˆå¯èƒ½éœ€è¦ 30-60 ç§’ï¼ˆéœ€è¦å†·å¯åŠ¨ï¼‰

**å®šä»·**ï¼ˆå‚è€ƒï¼‰ï¼š
- æŒ‰è®¡ç®—æ—¶é—´è®¡è´¹
- é€šå¸¸ $0.001-0.005 / æ¬¡ç”Ÿæˆ

**æ–‡æ¡£**ï¼šhttps://replicate.com/docs

---

## ğŸ”„ å¦‚ä½•åˆ‡æ¢æä¾›å•†

### æ­¥éª¤ 1: æ›´æ–°é…ç½®æ–‡ä»¶

ç¼–è¾‘ `backend/.env`ï¼š

```bash
# é€‰æ‹©ä¸€ä¸ªæä¾›å•†
IMAGE_PROVIDER=stability_ai  # æˆ– google_ai, replicate, mock

# å¡«å†™å¯¹åº”çš„ API Key
STABILITY_AI_API_KEY=your-api-key-here
```

### æ­¥éª¤ 2: é‡å¯åç«¯æœåŠ¡

```bash
# å¦‚æœåç«¯æ­£åœ¨è¿è¡Œï¼Œéœ€è¦é‡å¯
cd backend
source venv/bin/activate
uvicorn app.main:app --reload
```

### æ­¥éª¤ 3: æµ‹è¯•

1. è®¿é—®å‰ç«¯ï¼šhttp://localhost:5176/generator
2. ä¸Šä¼ å® ç‰©å›¾ç‰‡
3. é€‰æ‹©é£æ ¼
4. ç‚¹å‡»ç”Ÿæˆ
5. ç­‰å¾…ç»“æœ

**é¢„æœŸè¡Œä¸º**ï¼š
- Mock: 5-10 ç§’è¿”å›éšæœºå›¾ç‰‡
- Stability AI: 10-20 ç§’è¿”å› AI ç”Ÿæˆå›¾ç‰‡
- Replicate: 30-60 ç§’è¿”å› AI ç”Ÿæˆå›¾ç‰‡
- Google AI: 15-30 ç§’è¿”å› AI ç”Ÿæˆå›¾ç‰‡

---

## â“ å¸¸è§é—®é¢˜

### 1. **å¦‚ä½•çŸ¥é“å½“å‰ä½¿ç”¨å“ªä¸ªæä¾›å•†ï¼Ÿ**

æŸ¥çœ‹åç«¯æ—¥å¿—ï¼Œä¼šæ˜¾ç¤ºç±»ä¼¼ä¿¡æ¯ï¼š
```
INFO: Using stability_ai provider for image generation
```

æˆ–æ£€æŸ¥ `backend/.env` ä¸­çš„ `IMAGE_PROVIDER` å€¼ã€‚

### 2. **API Key æ— æ•ˆæˆ–è¿‡æœŸæ€ä¹ˆåŠï¼Ÿ**

- æ£€æŸ¥ key æ˜¯å¦æ­£ç¡®å¤åˆ¶ï¼ˆæ²¡æœ‰å¤šä½™ç©ºæ ¼ï¼‰
- ç¡®è®¤ key æœªè¿‡æœŸ
- æ£€æŸ¥è´¦æˆ·æ˜¯å¦æœ‰è¶³å¤Ÿçš„ä½™é¢/é¢åº¦
- æŸ¥çœ‹æä¾›å•†å®˜ç½‘çš„è´¦æˆ·çŠ¶æ€

### 3. **ç”Ÿæˆå¤±è´¥ï¼Œæ˜¾ç¤ºé”™è¯¯æ€ä¹ˆåŠï¼Ÿ**

å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ³•ï¼š

| é”™è¯¯ä¿¡æ¯ | åŸå›  | è§£å†³æ–¹æ³• |
|---------|------|---------|
| "API key is required" | æœªè®¾ç½® API key | åœ¨ `.env` ä¸­è®¾ç½®å¯¹åº”çš„ API key |
| "ç§¯åˆ†ä¸è¶³" | Stability AI ä½™é¢ä¸è¶³ | å……å€¼è´¦æˆ· |
| "è¯·æ±‚è¿‡äºé¢‘ç¹" | API é™æµ | ç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯• |
| "å›¾åƒç”Ÿæˆè¶…æ—¶" | ç½‘ç»œé—®é¢˜æˆ– API ç¹å¿™ | é‡è¯•æˆ–åˆ‡æ¢æä¾›å•† |

### 4. **å¦‚ä½•æŸ¥çœ‹ API ä½¿ç”¨é‡å’Œè´¹ç”¨ï¼Ÿ**

- **Stability AI**: https://platform.stability.ai/account/billing
- **Replicate**: https://replicate.com/account/billing
- **Google AI**: Google Cloud Console â†’ Billing

### 5. **Mock æ¨¡å¼å’ŒçœŸå® API çš„åŒºåˆ«ï¼Ÿ**

| ç‰¹æ€§ | Mock æ¨¡å¼ | çœŸå® API |
|------|----------|---------|
| æˆæœ¬ | å…è´¹ | ä»˜è´¹ |
| å›¾ç‰‡è´¨é‡ | éšæœºå›¾ç‰‡ | AI çœŸå®ç”Ÿæˆ |
| ç”Ÿæˆé€Ÿåº¦ | 5-10 ç§’ | 10-60 ç§’ |
| é€‚ç”¨åœºæ™¯ | å¼€å‘/æµ‹è¯• | ç”Ÿäº§ç¯å¢ƒ |

### 6. **æ¨èçš„ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼Ÿ**

```bash
# æ¨èé…ç½®
IMAGE_PROVIDER=stability_ai
STABILITY_AI_API_KEY=your-production-api-key

# å¤‡é€‰æ–¹æ¡ˆï¼ˆé™çº§ï¼‰
# å¦‚æœ Stability AI ä¸å¯ç”¨ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ° Mock
```

### 7. **å¦‚ä½•æ§åˆ¶ç”Ÿæˆæˆæœ¬ï¼Ÿ**

1. **å¼€å‘ç¯å¢ƒ**ï¼šä½¿ç”¨ Mock æ¨¡å¼
2. **æµ‹è¯•ç¯å¢ƒ**ï¼šè®¾ç½® API è°ƒç”¨é™åˆ¶
3. **ç”Ÿäº§ç¯å¢ƒ**ï¼š
   - ç›‘æ§ API ä½¿ç”¨é‡
   - è®¾ç½®æ¯æ—¥é¢„ç®—ä¸Šé™
   - ä½¿ç”¨ç§¯åˆ†ç³»ç»Ÿæ§åˆ¶ç”¨æˆ·ç”Ÿæˆæ¬¡æ•°

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **Stability AI æ–‡æ¡£**: https://platform.stability.ai/docs
- **Replicate æ–‡æ¡£**: https://replicate.com/docs
- **Google AI æ–‡æ¡£**: https://ai.google.dev/docs
- **é¡¹ç›® GitHub**: https://github.com/your-repo/petsphoto

---

## ğŸ“ æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ

1. æŸ¥çœ‹æœ¬æŒ‡å—çš„ [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜) éƒ¨åˆ†
2. æ£€æŸ¥åç«¯æ—¥å¿—: `backend/logs/` æˆ–æ§åˆ¶å°è¾“å‡º
3. æäº¤ Issue: GitHub Issues
4. è”ç³»æ”¯æŒ: support@petsphoto.com

---

**æœ€åæ›´æ–°**: 2025-11-16
